(self.webpackChunke_commerce=self.webpackChunke_commerce||[]).push([[4174],{4174:(n,o,e)=>{"use strict";e.r(o),e.d(o,{RegisterPageModule:()=>u});var t=e(8583),i=e(665),r=e(7823),s=e(1348),a=e(4762),c=e(8720),g=e(7556);const l=[{path:"",component:(()=>{class n{constructor(n,o,e,t){this.auth=n,this.loading=o,this.router=e,this.toast=t,this.isErrorMail=!0,this.user={pseudo:"",email:"",password:"",confirm_password:""}}ngOnInit(){}checkEmail(){const n=new RegExp(/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/g);this.isErrorMail=!n.test(this.user.email.trim())}register(){return(0,a.mG)(this,void 0,void 0,function*(){const n=yield this.loading.create({message:"Please wait..."});yield n.present(),this.user.pseudo=this.user.email.split("@")[0],this.auth.register(this.user).then(n=>(0,a.mG)(this,void 0,void 0,function*(){console.log(n),yield this.loading.dismiss(),this.router.navigate(["/login"])})).catch(n=>(0,a.mG)(this,void 0,void 0,function*(){console.log(n),(yield this.toast.create({message:n,duration:2e3})).present(),yield this.loading.dismiss()}))})}}return n.\u0275fac=function(o){return new(o||n)(c.Y36(g.e),c.Y36(r.HT),c.Y36(s.F0),c.Y36(r.yF))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:27,vars:7,consts:[["slot","start"],["icon","chevron-back-outline"],[1,"logo"],["size","12",1,"ion-align-self-center"],["name","person-add-outline"],[1,"form"],["size","12"],[3,"ngClass"],["position","floating"],["type","email",3,"ngModel","keydown","ngModelChange"],["type","password",3,"ngModel","ngModelChange"],["expand","block",1,"logBtn",3,"disabled","click"]],template:function(n,o){1&n&&(c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar"),c.TgZ(2,"ion-buttons",0),c._UZ(3,"ion-back-button",1),c.qZA(),c.qZA(),c.qZA(),c.TgZ(4,"ion-content"),c.TgZ(5,"h4"),c._uU(6,"Cr\xe9ation de compte"),c.qZA(),c.TgZ(7,"ion-row",2),c.TgZ(8,"ion-col",3),c._UZ(9,"ion-icon",4),c.qZA(),c.qZA(),c.TgZ(10,"ion-row",5),c.TgZ(11,"ion-col",6),c.TgZ(12,"ion-item",7),c.TgZ(13,"ion-label",8),c._uU(14,"Adresse Email"),c.qZA(),c.TgZ(15,"ion-input",9),c.NdJ("keydown",function(){return o.checkEmail()})("ngModelChange",function(n){return o.user.email=n}),c.qZA(),c.qZA(),c.TgZ(16,"ion-item",7),c.TgZ(17,"ion-label",8),c._uU(18,"Mot de passe"),c.qZA(),c.TgZ(19,"ion-input",10),c.NdJ("ngModelChange",function(n){return o.user.password=n}),c.qZA(),c.qZA(),c.TgZ(20,"ion-item",7),c.TgZ(21,"ion-label",8),c._uU(22,"Confirmation de mot de passe"),c.qZA(),c.TgZ(23,"ion-input",10),c.NdJ("ngModelChange",function(n){return o.user.confirm_password=n}),c.qZA(),c.qZA(),c.qZA(),c.TgZ(24,"ion-col"),c.TgZ(25,"ion-button",11),c.NdJ("click",function(){return o.register()}),c._uU(26,"Creation"),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&n&&(c.xp6(12),c.Q6J("ngClass",o.isErrorMail?"errorEmail":"goodEmail"),c.xp6(3),c.Q6J("ngModel",o.user.email),c.xp6(1),c.Q6J("ngClass",o.user.password.trim().length<5?"errorEmail":"goodEmail"),c.xp6(3),c.Q6J("ngModel",o.user.password),c.xp6(1),c.Q6J("ngClass",o.user.confirm_password.trim()!=o.user.password.trim()||o.user.confirm_password.trim().length<5?"errorEmail":"goodEmail"),c.xp6(3),c.Q6J("ngModel",o.user.confirm_password),c.xp6(2),c.Q6J("disabled",o.isErrorMail))},directives:[r.Gu,r.sr,r.Sm,r.oU,r.cs,r.W2,r.Nd,r.wI,r.gu,r.Ie,t.mk,r.Q$,r.pK,r.j9,i.JJ,i.On,r.YG],styles:[".logo[_ngcontent-%COMP%]{height:35%}.form[_ngcontent-%COMP%]   .logBtn[_ngcontent-%COMP%]{--background:linear-gradient(to right top,#86a639,#7db336,#6ec135,#56cf3a,#1cdd43);--background-hover:linear-gradient(to right top,#86a639,#7db336,#6ec135,#56cf3a,#1cdd43);--background-focused:linear-gradient(to right top,#86a639,#7db336,#6ec135,#56cf3a,#1cdd43);--background-activated:linear-gradient(to right top,#86a639,#7db336,#6ec135,#56cf3a,#1cdd43)}.form[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{padding:0 2%}.form[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-align:center}.form[_ngcontent-%COMP%]   .errorEmail[_ngcontent-%COMP%]{border-bottom:red;--border-color:red;--highlight-background:red}.form[_ngcontent-%COMP%]   .goodEmail[_ngcontent-%COMP%]{border-bottom:#64fa00;--border-color:#64fa00;--highlight-background:#64fa00}a[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{text-align:center;color:#2bb04a}",".logo[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{text-align:center}.logo[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{font-size:xxx-large;color:#fff}h4[_ngcontent-%COMP%]{text-align:center}"]}),n})()}];let d=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[s.Bz.forChild(l)],s.Bz]}),n})(),u=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[t.ez,i.u5,r.Pc,d]]}),n})()}}]);